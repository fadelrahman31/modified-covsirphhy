

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Usage: datasets &mdash; CovsirPhy  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage: phases" href="usage_phases.html" />
    <link rel="prev" title="Usage: scenario analysis" href="usage_quick.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> CovsirPhy
          

          
          </a>

          
            
            
              <div class="version">
                2.18.0-zeta
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">CovsirPhy introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/INSTALLATION.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/INSTALLATION.html#dataset-preparation">Dataset preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_quickest.html">Usage: quickest tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_quick.html">Usage: scenario analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage: datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Preparation">Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#The-number-of-cases-(JHU-style)">The number of cases (JHU style)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Total-number-of-cases-in-all-countries">Total number of cases in all countries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Subset-for-area">Subset for area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Complement">Complement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Recovery-period">Recovery period</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-the-number-of-cases-at-a-timepoint">Visualize the number of cases at a timepoint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Population-values">Population values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Show-population">Show population</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Update-population">Update population</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-population">Visualize population</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#OxCGRT-indicators">OxCGRT indicators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Subset for area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-indicator-values">Visualize indicator values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#The-number-of-tests">The number of tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Subset for area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Positive-rate">Positive rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-the-number-of-tests">Visualize the number of tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Vaccinations">Vaccinations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Note-for-variables">Note for variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Subset for area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-the-number-of-vaccinations">Visualize the number of vaccinations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Linelist-of-case-reports">Linelist of case reports</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Subset for area</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Subset-of-outcome">Subset of outcome</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Population-pyramid">Population pyramid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Japan-specific-dataset">Japan-specific dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-values">Visualize values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Metadata">Metadata</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage_phases.html">Usage: phases</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_theoretical.html">Usage: SIR-derived models</a></li>
<li class="toctree-l1"><a class="reference internal" href="covsirphy.html">covsirphy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/TERM.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html">Security policy of CovsirPhy</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Guideline of contribution</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CovsirPhy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Usage: datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usage_dataset.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Usage:-datasets">
<h1>Usage: datasets<a class="headerlink" href="#Usage:-datasets" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://colab.research.google.com/github/lisphilar/covid19-sir/blob/master/example/usage_dataset.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<p>Here, we will review the datasets downladed and cleaned with <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class. Methods of this class produces the following class instances.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">JHUData</span></code>: the number of confirmed/infected/fatal/recovored cases</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PopulationData</span></code>: population values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OxCGRTData</span></code>: indicators of government responses (OxCGRT)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PCRData</span></code>: the number of tests</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VaccineData</span></code>: the number of vaccinations, people vaccinated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LinelistData</span></code>: linelist of case reports</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PyramidData</span></code>: population pyramid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JapanData</span></code>: Japan-specific dataset</p></li>
</ol>
<p>If you want to use a new dataset for your analysis, please kindly inform us with <a class="reference external" href="https://github.com/lisphilar/covid19-sir/issues/new/?template=request-new-method-of-dataloader-class.md">GitHub Issues: Request new method of DataLoader class</a>.</p>
<p>In this notebook, review the cleaned datasets one by one and visualize them.</p>
<div class="section" id="Preparation">
<h2>Preparation<a class="headerlink" href="#Preparation" title="Permalink to this headline">¶</a></h2>
<p>Import the packages.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># !pip install covsirphy --upgrade</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">import</span> <span class="nn">covsirphy</span> <span class="k">as</span> <span class="nn">cs</span>
<span class="n">cs</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;2.18.0-zeta&#39;
</pre></div></div>
</div>
<p>Data cleaning classes will be produced with methods of <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class. Please specify the directory to save CSV files when creating <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> instance. The default value of <code class="docutils literal notranslate"><span class="pre">directory</span></code> is “input” and we will set “../input” here.</p>
<div class="line-block">
<div class="line">Note:</div>
<div class="line">When the directory has a CSV file with the same name, <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> will load them without downloading dataset from server. When the CSV file was created/updated more than 12 hours ago, the CSV file will be updated automatically. “12 hours” is the default value and we can change it with <code class="docutils literal notranslate"><span class="pre">update_interval</span></code> argument when creating <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> instance.</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create DataLoader instance</span>
<span class="n">data_loader</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="s2">&quot;../input&quot;</span><span class="p">,</span> <span class="n">update_interval</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Usage of methods will be explained in the following sections. If you want to download all datasets with copy &amp; paste, please refer to <a class="reference external" href="https://lisphilar.github.io/covid19-sir/markdown/INSTALLATION.html#dataset-preparation">Dataset preparation</a>.</p>
</div>
<div class="section" id="The-number-of-cases-(JHU-style)">
<h2>The number of cases (JHU style)<a class="headerlink" href="#The-number-of-cases-(JHU-style)" title="Permalink to this headline">¶</a></h2>
<p>The main data for analysis is that of the number of cases. <code class="docutils literal notranslate"><span class="pre">JHUData</span></code> class created with <code class="docutils literal notranslate"><span class="pre">DataLoader.jhu()</span></code> method is for the number of confirmed/fatal/recovered cases. The number of infected cases will be calculated as “Confirmed - Recovered - Fatal” when data cleaning.</p>
<p>If you want to create this instance with your local CSV file, please refer to <a class="reference external" href="https://lisphilar.github.io/covid19-sir/markdown/INSTALLATION.html#use-a-local-csv-file-which-has-the-number-of-cases">Dataset preparation: 3. Use a local CSV file which has the number of cases</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create instance</span>
<span class="n">jhu_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">jhu</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieving datasets from COVID-19 Data Hub https://covid19datahub.io/
        Please set verbose=2 to see the detailed citation list.
Retrieving COVID-19 dataset in Japan from https://github.com/lisphilar/covid19-sir/data/japan
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Check type</span>
<span class="nb">type</span><span class="p">(</span><span class="n">jhu_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.jhu_data.JHUData
</pre></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">JHUData.citation</span></code> property shows the description of this dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">jhu_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(Secondary source) Guidotti, E., Ardia, D., (2020), &#34;COVID-19 Data Hub&#34;, Journal of Open Source Software 5(51):2376, doi: 10.21105/joss.02376.
Lisphilar (2020), COVID-19 dataset in Japan, GitHub repository, https://github.com/lisphilar/covid19-sir/data/japan
</pre></div></div>
</div>
<p>Detailed citation list is saved in <code class="docutils literal notranslate"><span class="pre">DataLoader.covid19dh_citation</span></code> property. This is not a property of <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>. Because many links are included, the will not be shown in this tutorial.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Detailed citations (string)</span>
<span class="c1"># data_loader.covid19dh_citation</span>
</pre></div>
</div>
</div>
<p>We can check the raw data with <code class="docutils literal notranslate"><span class="pre">JHUData.raw</span></code> property.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ObservationDate</th>
      <th>Tests</th>
      <th>Confirmed</th>
      <th>Recovered</th>
      <th>Deaths</th>
      <th>Population</th>
      <th>ISO3</th>
      <th>Province/State</th>
      <th>Country/Region</th>
      <th>school_closing</th>
      <th>...</th>
      <th>cancel_events</th>
      <th>gatherings_restrictions</th>
      <th>transport_closing</th>
      <th>stay_home_restrictions</th>
      <th>internal_movement_restrictions</th>
      <th>international_movement_restrictions</th>
      <th>information_campaigns</th>
      <th>testing_policy</th>
      <th>contact_tracing</th>
      <th>stringency_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>94369</th>
      <td>2021-04-07</td>
      <td>6083.0</td>
      <td>1498.0</td>
      <td>1444</td>
      <td>23</td>
      <td>107808.0</td>
      <td>COL</td>
      <td>Vichada</td>
      <td>Colombia</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>82.87</td>
    </tr>
    <tr>
      <th>94370</th>
      <td>2021-04-08</td>
      <td>6083.0</td>
      <td>1502.0</td>
      <td>1452</td>
      <td>23</td>
      <td>107808.0</td>
      <td>COL</td>
      <td>Vichada</td>
      <td>Colombia</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>82.87</td>
    </tr>
    <tr>
      <th>94371</th>
      <td>2021-04-09</td>
      <td>6083.0</td>
      <td>1502.0</td>
      <td>1457</td>
      <td>23</td>
      <td>107808.0</td>
      <td>COL</td>
      <td>Vichada</td>
      <td>Colombia</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>82.87</td>
    </tr>
    <tr>
      <th>94372</th>
      <td>2021-04-10</td>
      <td>6083.0</td>
      <td>1506.0</td>
      <td>1459</td>
      <td>23</td>
      <td>107808.0</td>
      <td>COL</td>
      <td>Vichada</td>
      <td>Colombia</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>82.87</td>
    </tr>
    <tr>
      <th>94373</th>
      <td>2021-04-11</td>
      <td>6083.0</td>
      <td>1506.0</td>
      <td>1459</td>
      <td>23</td>
      <td>107808.0</td>
      <td>COL</td>
      <td>Vichada</td>
      <td>Colombia</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>82.87</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 21 columns</p>
</div></div>
</div>
<p>The cleaned dataset is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19091</th>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>-</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
    </tr>
    <tr>
      <th>19092</th>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>-</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
    </tr>
    <tr>
      <th>19093</th>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>-</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
    </tr>
    <tr>
      <th>19094</th>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>-</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
    </tr>
    <tr>
      <th>19095</th>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>-</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>As you noticed, they are returned as a Pandas dataframe. Because tails are the latest values, <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.tail()</span></code> was used for reviewing it.</p>
<p>Check the data types and memory usage as follows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 477791 entries, 0 to 19095
Data columns (total 7 columns):
 #   Column     Non-Null Count   Dtype
---  ------     --------------   -----
 0   Date       477791 non-null  datetime64[ns]
 1   Country    477791 non-null  category
 2   Province   477791 non-null  category
 3   Confirmed  477791 non-null  int64
 4   Infected   477791 non-null  int64
 5   Fatal      477791 non-null  int64
 6   Recovered  477791 non-null  int64
dtypes: category(2), datetime64[ns](1), int64(4)
memory usage: 23.7 MB
</pre></div></div>
</div>
<p>Note that date is <code class="docutils literal notranslate"><span class="pre">pandas.datetime64</span></code>, area names are <code class="docutils literal notranslate"><span class="pre">pandas.Category</span></code> and the number of cases is <code class="docutils literal notranslate"><span class="pre">numpy.int64</span></code>.</p>
<div class="section" id="Total-number-of-cases-in-all-countries">
<h3>Total number of cases in all countries<a class="headerlink" href="#Total-number-of-cases-in-all-countries" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">JHUData.total()</span></code> returns total number of cases in all countries. Fatality and recovery rate are added.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">total_df</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">total</span><span class="p">()</span>
<span class="c1"># Show the oldest data</span>
<span class="n">display</span><span class="p">(</span><span class="n">total_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">total_df</span><span class="p">[</span><span class="s2">&quot;Confirmed&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="c1"># Show the latest data</span>
<span class="n">display</span><span class="p">(</span><span class="n">total_df</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
      <th>Fatal per Confirmed</th>
      <th>Recovered per Confirmed</th>
      <th>Fatal per (Fatal or Recovered)</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-07</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-08</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-09</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-10</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-11</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
      <th>Fatal per Confirmed</th>
      <th>Recovered per Confirmed</th>
      <th>Fatal per (Fatal or Recovered)</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-04-07</th>
      <td>133174545</td>
      <td>48274449</td>
      <td>2890149</td>
      <td>82009947</td>
      <td>0.021702</td>
      <td>0.615808</td>
      <td>0.034042</td>
    </tr>
    <tr>
      <th>2021-04-08</th>
      <td>133982467</td>
      <td>48641491</td>
      <td>2903603</td>
      <td>82437373</td>
      <td>0.021672</td>
      <td>0.615285</td>
      <td>0.034024</td>
    </tr>
    <tr>
      <th>2021-04-09</th>
      <td>134751640</td>
      <td>49021452</td>
      <td>2916996</td>
      <td>82813192</td>
      <td>0.021647</td>
      <td>0.614562</td>
      <td>0.034025</td>
    </tr>
    <tr>
      <th>2021-04-10</th>
      <td>135428441</td>
      <td>49321559</td>
      <td>2928918</td>
      <td>83177964</td>
      <td>0.021627</td>
      <td>0.614184</td>
      <td>0.034015</td>
    </tr>
    <tr>
      <th>2021-04-11</th>
      <td>134928648</td>
      <td>49292112</td>
      <td>2919565</td>
      <td>82716971</td>
      <td>0.021638</td>
      <td>0.613042</td>
      <td>0.034093</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The first case (registered in the dataset) was 07Jan2020. COVID-19 outbreak is still ongoing.</p>
<p>We can create line plots with <code class="docutils literal notranslate"><span class="pre">covsirphy.line_plot()</span></code> function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">cs</span><span class="o">.</span><span class="n">line_plot</span><span class="p">(</span><span class="n">total_df</span><span class="p">[[</span><span class="s2">&quot;Infected&quot;</span><span class="p">,</span> <span class="s2">&quot;Fatal&quot;</span><span class="p">,</span> <span class="s2">&quot;Recovered&quot;</span><span class="p">]],</span> <span class="s2">&quot;Total number of cases over time&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_26_0.png" src="_images/usage_dataset_26_0.png" />
</div>
</div>
<p>Statistics of fatality and recovery rate are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">total_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">total_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;per&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Fatal per Confirmed</th>
      <td>461.0</td>
      <td>0.034702</td>
      <td>0.017152</td>
      <td>0.000000</td>
      <td>0.022201</td>
      <td>0.029314</td>
      <td>0.043322</td>
      <td>0.074190</td>
    </tr>
    <tr>
      <th>Recovered per Confirmed</th>
      <td>461.0</td>
      <td>0.532577</td>
      <td>0.180196</td>
      <td>0.018246</td>
      <td>0.447690</td>
      <td>0.616883</td>
      <td>0.646424</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>Fatal per (Fatal or Recovered)</th>
      <td>461.0</td>
      <td>0.084128</td>
      <td>0.086521</td>
      <td>0.000000</td>
      <td>0.034519</td>
      <td>0.046204</td>
      <td>0.104980</td>
      <td>0.546667</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Subset-for-area">
<h3>Subset for area<a class="headerlink" href="#Subset-for-area" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">JHUData.subset()</span></code> creates a subset for a specific area. We can select country name and province name. In this tutorial, “Japan” and “Tokyo in Japan” will be used. Please replace it with your country/province name.</p>
<div class="line-block">
<div class="line">Subset for a country:</div>
<div class="line">We can use both of country names and ISO3 codes.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Specify contry name</span>
<span class="n">df</span><span class="p">,</span> <span class="n">complement</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span>
<span class="c1"># Or, specify ISO3 code</span>
<span class="c1"># df, complement = jhu_data.records(&quot;JPN&quot;)</span>
<span class="c1"># Show records</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
<span class="c1"># Show details of complement</span>
<span class="nb">print</span><span class="p">(</span><span class="n">complement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>425</th>
      <td>2021-04-06</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
    </tr>
    <tr>
      <th>426</th>
      <td>2021-04-07</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
    </tr>
    <tr>
      <th>427</th>
      <td>2021-04-08</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
    </tr>
    <tr>
      <th>428</th>
      <td>2021-04-09</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
    </tr>
    <tr>
      <th>429</th>
      <td>2021-04-10</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
partially complemented recovered data
</pre></div></div>
</div>
<p>Complement of records was performed. The second returned value is the description of complement. Details will be explained later and we can skip complement with <code class="docutils literal notranslate"><span class="pre">auto_complement=False</span></code> argument. Or, use just use <code class="docutils literal notranslate"><span class="pre">JHUData.subset()</span></code> method when the second returned value (<code class="docutils literal notranslate"><span class="pre">False</span></code> because no complement) is un-necessary.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Skip complement</span>
<span class="n">df</span><span class="p">,</span> <span class="n">complement</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">auto_complement</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Or,</span>
<span class="c1"># df = jhu_data.subset(&quot;Japan&quot;)</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
<span class="c1"># Show complement (False because not complemented)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">complement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>425</th>
      <td>2021-04-06</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
    </tr>
    <tr>
      <th>426</th>
      <td>2021-04-07</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
    </tr>
    <tr>
      <th>427</th>
      <td>2021-04-08</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
    </tr>
    <tr>
      <th>428</th>
      <td>2021-04-09</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
    </tr>
    <tr>
      <th>429</th>
      <td>2021-04-10</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
<p>Subset for a province (called “prefecture” in Japan):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="s2">&quot;Tokyo&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>383</th>
      <td>2021-04-05</td>
      <td>122951</td>
      <td>3570</td>
      <td>1779</td>
      <td>117602</td>
    </tr>
    <tr>
      <th>384</th>
      <td>2021-04-06</td>
      <td>123350</td>
      <td>3652</td>
      <td>1785</td>
      <td>117913</td>
    </tr>
    <tr>
      <th>385</th>
      <td>2021-04-07</td>
      <td>123905</td>
      <td>3821</td>
      <td>1789</td>
      <td>118295</td>
    </tr>
    <tr>
      <th>386</th>
      <td>2021-04-08</td>
      <td>124450</td>
      <td>3924</td>
      <td>1794</td>
      <td>118732</td>
    </tr>
    <tr>
      <th>387</th>
      <td>2021-04-09</td>
      <td>124987</td>
      <td>3976</td>
      <td>1798</td>
      <td>119213</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The list of countries can be checked with <code class="docutils literal notranslate"><span class="pre">JHUdata.countries()</span></code> as folows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pprint</span><span class="p">(</span><span class="n">jhu_data</span><span class="o">.</span><span class="n">countries</span><span class="p">(),</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Afghanistan&#39;, &#39;Albania&#39;, &#39;Algeria&#39;, &#39;Andorra&#39;, &#39;Angola&#39;,
 &#39;Antigua and Barbuda&#39;, &#39;Argentina&#39;, &#39;Armenia&#39;, &#39;Australia&#39;, &#39;Austria&#39;,
 &#39;Azerbaijan&#39;, &#39;Bahamas&#39;, &#39;Bahrain&#39;, &#39;Bangladesh&#39;, &#39;Barbados&#39;, &#39;Belarus&#39;,
 &#39;Belgium&#39;, &#39;Belize&#39;, &#39;Benin&#39;, &#39;Bermuda&#39;, &#39;Bhutan&#39;, &#39;Bolivia&#39;,
 &#39;Bosnia and Herzegovina&#39;, &#39;Botswana&#39;, &#39;Brazil&#39;, &#39;Brunei&#39;, &#39;Bulgaria&#39;,
 &#39;Burkina Faso&#39;, &#39;Burundi&#39;, &#39;Cambodia&#39;, &#39;Cameroon&#39;, &#39;Canada&#39;, &#39;Cape Verde&#39;,
 &#39;Central African Republic&#39;, &#39;Chad&#39;, &#39;Chile&#39;, &#39;China&#39;, &#39;Colombia&#39;, &#39;Comoros&#39;,
 &#39;Costa Rica&#39;, &#34;Cote d&#39;Ivoire&#34;, &#39;Croatia&#39;, &#39;Cuba&#39;, &#39;Cyprus&#39;, &#39;Czech Republic&#39;,
 &#39;Democratic Republic of the Congo&#39;, &#39;Denmark&#39;, &#39;Djibouti&#39;, &#39;Dominica&#39;,
 &#39;Dominican Republic&#39;, &#39;Ecuador&#39;, &#39;Egypt&#39;, &#39;El Salvador&#39;, &#39;Equatorial Guinea&#39;,
 &#39;Eritrea&#39;, &#39;Estonia&#39;, &#39;Ethiopia&#39;, &#39;Fiji&#39;, &#39;Finland&#39;, &#39;France&#39;, &#39;Gabon&#39;,
 &#39;Gambia&#39;, &#39;Georgia&#39;, &#39;Germany&#39;, &#39;Ghana&#39;, &#39;Greece&#39;, &#39;Grenada&#39;, &#39;Guam&#39;,
 &#39;Guatemala&#39;, &#39;Guinea&#39;, &#39;Guinea-Bissau&#39;, &#39;Guyana&#39;, &#39;Haiti&#39;, &#39;Holy See&#39;,
 &#39;Honduras&#39;, &#39;Hungary&#39;, &#39;Iceland&#39;, &#39;India&#39;, &#39;Indonesia&#39;, &#39;Iran&#39;, &#39;Iraq&#39;,
 &#39;Ireland&#39;, &#39;Israel&#39;, &#39;Italy&#39;, &#39;Jamaica&#39;, &#39;Japan&#39;, &#39;Jordan&#39;, &#39;Kazakhstan&#39;,
 &#39;Kenya&#39;, &#39;Kosovo&#39;, &#39;Kuwait&#39;, &#39;Kyrgyzstan&#39;, &#39;Laos&#39;, &#39;Latvia&#39;, &#39;Lebanon&#39;,
 &#39;Lesotho&#39;, &#39;Liberia&#39;, &#39;Libya&#39;, &#39;Liechtenstein&#39;, &#39;Lithuania&#39;, &#39;Luxembourg&#39;,
 &#39;Madagascar&#39;, &#39;Malawi&#39;, &#39;Malaysia&#39;, &#39;Maldives&#39;, &#39;Mali&#39;, &#39;Malta&#39;,
 &#39;Marshall Islands&#39;, &#39;Mauritania&#39;, &#39;Mauritius&#39;, &#39;Mexico&#39;, &#39;Moldova&#39;, &#39;Monaco&#39;,
 &#39;Mongolia&#39;, &#39;Montenegro&#39;, &#39;Morocco&#39;, &#39;Mozambique&#39;, &#39;Myanmar&#39;, &#39;Namibia&#39;,
 &#39;Nepal&#39;, &#39;Netherlands&#39;, &#39;New Zealand&#39;, &#39;Nicaragua&#39;, &#39;Niger&#39;, &#39;Nigeria&#39;,
 &#39;North Macedonia&#39;, &#39;Northern Mariana Islands&#39;, &#39;Norway&#39;, &#39;Oman&#39;, &#39;Pakistan&#39;,
 &#39;Palestine&#39;, &#39;Panama&#39;, &#39;Papua New Guinea&#39;, &#39;Paraguay&#39;, &#39;Peru&#39;, &#39;Philippines&#39;,
 &#39;Poland&#39;, &#39;Portugal&#39;, &#39;Puerto Rico&#39;, &#39;Qatar&#39;, &#39;Republic of the Congo&#39;,
 &#39;Romania&#39;, &#39;Russia&#39;, &#39;Rwanda&#39;, &#39;Saint Kitts and Nevis&#39;, &#39;Saint Lucia&#39;,
 &#39;Saint Vincent and the Grenadines&#39;, &#39;Samoa&#39;, &#39;San Marino&#39;,
 &#39;Sao Tome and Principe&#39;, &#39;Saudi Arabia&#39;, &#39;Senegal&#39;, &#39;Serbia&#39;, &#39;Seychelles&#39;,
 &#39;Sierra Leone&#39;, &#39;Singapore&#39;, &#39;Slovakia&#39;, &#39;Slovenia&#39;, &#39;Solomon Islands&#39;,
 &#39;Somalia&#39;, &#39;South Africa&#39;, &#39;South Korea&#39;, &#39;South Sudan&#39;, &#39;Spain&#39;, &#39;Sri Lanka&#39;,
 &#39;Sudan&#39;, &#39;Suriname&#39;, &#39;Swaziland&#39;, &#39;Sweden&#39;, &#39;Switzerland&#39;, &#39;Syria&#39;, &#39;Taiwan&#39;,
 &#39;Tajikistan&#39;, &#39;Tanzania&#39;, &#39;Thailand&#39;, &#39;Timor-Leste&#39;, &#39;Togo&#39;,
 &#39;Trinidad and Tobago&#39;, &#39;Tunisia&#39;, &#39;Turkey&#39;, &#39;Uganda&#39;, &#39;Ukraine&#39;,
 &#39;United Arab Emirates&#39;, &#39;United Kingdom&#39;, &#39;United States&#39;, &#39;Uruguay&#39;,
 &#39;Uzbekistan&#39;, &#39;Vanuatu&#39;, &#39;Venezuela&#39;, &#39;Vietnam&#39;, &#39;Virgin Islands, U.S.&#39;,
 &#39;Yemen&#39;, &#39;Zambia&#39;, &#39;Zimbabwe&#39;]
</pre></div></div>
</div>
</div>
<div class="section" id="Complement">
<h3>Complement<a class="headerlink" href="#Complement" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">JHUData.records()</span></code> automatically complement the records, if necessary and <code class="docutils literal notranslate"><span class="pre">auto_complement=True</span></code> (default). Each area can have either none or one or multiple complements, depending on the records and their preprocessing analysis.</p>
<p>We can show the specific kind of complements that were applied to the records of each country with <code class="docutils literal notranslate"><span class="pre">JHUData.show_complement()</span></code> method. The possible kinds of complement for each country are the following:</p>
<ol class="arabic simple">
<li><p>“Monotonic_confirmed/fatal/recovered” (monotonic increasing complement) Force the variable show monotonic increasing.</p></li>
<li><p>“Full_recovered” (full complement of recovered data) Estimate the number of recovered cases using the value of estimated average recovery period.</p></li>
<li><p>“Partial_recovered” (partial complement of recovered data) When recovered values are not updated for some days, extrapolate the values.</p></li>
</ol>
<div class="line-block">
<div class="line">Note:</div>
<div class="line">“Recovery period” will be discussed in the next subsection.</div>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">JHUData.show_complement()</span></code>, we can specify country names and province names.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Specify country name</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">show_complement</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span>
<span class="c1"># Or, specify country and province name</span>
<span class="c1"># jhu_data.show_complement(country=&quot;Japan&quot;, province=&quot;Tokyo&quot;)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Province</th>
      <th>Monotonic_confirmed</th>
      <th>Monotonic_fatal</th>
      <th>Monotonic_recovered</th>
      <th>Full_recovered</th>
      <th>Partial_recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Japan</td>
      <td>-</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>When list was apllied was <code class="docutils literal notranslate"><span class="pre">country</span></code> argument, the all spefied countries will be shown. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all registered countries will be used.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Specify country names</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">show_complement</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Greece&quot;</span><span class="p">,</span> <span class="s2">&quot;Japan&quot;</span><span class="p">])</span>
<span class="c1"># Or, apply None</span>
<span class="c1"># jhu_data.show_complement(country=None)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Province</th>
      <th>Monotonic_confirmed</th>
      <th>Monotonic_fatal</th>
      <th>Monotonic_recovered</th>
      <th>Full_recovered</th>
      <th>Partial_recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Greece</td>
      <td>-</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Japan</td>
      <td>-</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>If complement was performed incorrectly or you need new algorithms, kindly let us know via <a class="reference external" href="https://github.com/lisphilar/covid19-sir/issues">issue page</a>.</p>
</div>
<div class="section" id="Recovery-period">
<h3>Recovery period<a class="headerlink" href="#Recovery-period" title="Permalink to this headline">¶</a></h3>
<p>We defined “recovery period” as yhe time period between case confirmation and recovery (as it is subjectively defined per country). With the global cases records, we estimate the average recovery period using <code class="docutils literal notranslate"><span class="pre">JHUData.calculate_recovery_period()</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">recovery_period</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">calculate_recovery_period</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average recovery period: </span><span class="si">{</span><span class="n">recovery_period</span><span class="si">}</span><span class="s2"> [days]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Average recovery period: 16 [days]
</pre></div></div>
</div>
<p>What we currently do is to calculate the difference between confirmed cases and fatal cases and try to match it to some recovered cases value in the future. We apply this method for every country that has valid recovery data and average the partial recovery periods in order to obtain a single (average) recovery period. During the calculations, we ignore time intervals that lead to very short (&lt;7 days) or very long (&gt;90 days) partial recovery periods, if these exist with high frequency (&gt;50%) in
the records. We have to assume temporarily invariable compartments for this analysis to extract an approximation of the average recovery period.</p>
<p>Alternatively, we had tried to use linelist of case reports to get precise value of recovery period (average of recovery date minus confirmation date for cases), but the number of records was too small.</p>
</div>
<div class="section" id="Visualize-the-number-of-cases-at-a-timepoint">
<h3>Visualize the number of cases at a timepoint<a class="headerlink" href="#Visualize-the-number-of-cases-at-a-timepoint" title="Permalink to this headline">¶</a></h3>
<p>We can visualize the number of cases with <code class="docutils literal notranslate"><span class="pre">JHUData.map()</span></code> method. When country is None, global map will be shown.</p>
<p>Global map with country level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Global map with country level data</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Infected&quot;</span><span class="p">)</span>
<span class="c1"># To set included/exclude some countries</span>
<span class="c1"># jhu_data.map(country=None, variable=&quot;Infected&quot;, included=[&quot;Japan&quot;])</span>
<span class="c1"># jhu_data.map(country=None, variable=&quot;Infected&quot;, excluded=[&quot;Japan&quot;])</span>
<span class="c1"># To change the date</span>
<span class="c1"># jhu_data.map(country=None, variable=&quot;Infected&quot;, date=&quot;01Oct2021&quot;)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_50_0.png" src="_images/usage_dataset_50_0.png" />
</div>
</div>
<p>Values can be retrieved with <code class="docutils literal notranslate"><span class="pre">.layer()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Country</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>91019</th>
      <td>JPN</td>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
    </tr>
    <tr>
      <th>91020</th>
      <td>JPN</td>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
    </tr>
    <tr>
      <th>91021</th>
      <td>JPN</td>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
    </tr>
    <tr>
      <th>91022</th>
      <td>JPN</td>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
    </tr>
    <tr>
      <th>91023</th>
      <td>JPN</td>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Country map with province level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Country map with province level data</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Infected&quot;</span><span class="p">)</span>
<span class="c1"># To set included/exclude some countries</span>
<span class="c1"># jhu_data.map(country=&quot;Japan&quot;, variable=&quot;Infected&quot;, included=[&quot;Tokyo&quot;])</span>
<span class="c1"># jhu_data.map(country=&quot;Japan&quot;, variable=&quot;Infected&quot;, excluded=[&quot;Tokyo&quot;])</span>
<span class="c1"># To change the date</span>
<span class="c1"># jhu_data.map(country=&quot;Japan&quot;, variable=&quot;Infected&quot;, date=&quot;01Oct2021&quot;)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_54_0.png" src="_images/usage_dataset_54_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18661</th>
      <td>JPN</td>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2460</td>
      <td>129</td>
      <td>3</td>
      <td>2328</td>
    </tr>
    <tr>
      <th>18662</th>
      <td>JPN</td>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2468</td>
      <td>136</td>
      <td>3</td>
      <td>2329</td>
    </tr>
    <tr>
      <th>18663</th>
      <td>JPN</td>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2475</td>
      <td>132</td>
      <td>3</td>
      <td>2340</td>
    </tr>
    <tr>
      <th>18664</th>
      <td>JPN</td>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2478</td>
      <td>127</td>
      <td>3</td>
      <td>2348</td>
    </tr>
    <tr>
      <th>18665</th>
      <td>JPN</td>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2488</td>
      <td>137</td>
      <td>3</td>
      <td>2348</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="line-block">
<div class="line">Note for Japan:</div>
<div class="line">Province “Entering” means the number of cases who were confirmed when entering Japan.</div>
</div>
</div>
</div>
<div class="section" id="Population-values">
<h2>Population values<a class="headerlink" href="#Population-values" title="Permalink to this headline">¶</a></h2>
<p>Population values are necessary to calculate the number of susceptible people. Susceptible is a variable of SIR-derived models. <code class="docutils literal notranslate"><span class="pre">PopulationData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.population()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">population</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">population_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.population.PopulationData
</pre></div></div>
</div>
<p>Description is here. This is the same as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>. Raw data is also the same.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Description</span>
<span class="nb">print</span><span class="p">(</span><span class="n">population_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
<span class="c1"># Raw</span>
<span class="c1"># population_data.raw.tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(Secondary source) Guidotti, E., Ardia, D., (2020), &#34;COVID-19 Data Hub&#34;, Journal of Open Source Software 5(51):2376, doi: 10.21105/joss.02376.
</pre></div></div>
</div>
<p>The cleaned dataset is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Country</th>
      <th>Province</th>
      <th>Date</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>416565</th>
      <td>COL</td>
      <td>Colombia</td>
      <td>Vichada</td>
      <td>2021-04-07</td>
      <td>107808</td>
    </tr>
    <tr>
      <th>416566</th>
      <td>COL</td>
      <td>Colombia</td>
      <td>Vichada</td>
      <td>2021-04-08</td>
      <td>107808</td>
    </tr>
    <tr>
      <th>416567</th>
      <td>COL</td>
      <td>Colombia</td>
      <td>Vichada</td>
      <td>2021-04-09</td>
      <td>107808</td>
    </tr>
    <tr>
      <th>416568</th>
      <td>COL</td>
      <td>Colombia</td>
      <td>Vichada</td>
      <td>2021-04-10</td>
      <td>107808</td>
    </tr>
    <tr>
      <th>416569</th>
      <td>COL</td>
      <td>Colombia</td>
      <td>Vichada</td>
      <td>2021-04-11</td>
      <td>107808</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="Show-population">
<h3>Show population<a class="headerlink" href="#Show-population" title="Permalink to this headline">¶</a></h3>
<p>We will get the population values with <code class="docutils literal notranslate"><span class="pre">PopulationData.value()</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># In a country</span>
<span class="n">population_data</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># In a country with ISO3 code</span>
<span class="c1"># population_data.value(&quot;JPN&quot;, province=None)</span>
<span class="c1"># In a province (prefecture)</span>
<span class="c1"># population_data.value(&quot;Japan&quot;, province=&quot;Tokyo&quot;)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
126529100
</pre></div></div>
</div>
</div>
<div class="section" id="Update-population">
<h3>Update population<a class="headerlink" href="#Update-population" title="Permalink to this headline">¶</a></h3>
<p>We can update the population values.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Before</span>
<span class="n">population_before</span> <span class="o">=</span> <span class="n">population_data</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="s2">&quot;Tokyo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Before: </span><span class="si">{</span><span class="n">population_before</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Register population value of Tokyo in Japan</span>
<span class="c1"># https://www.metro.tokyo.lg.jp/tosei/hodohappyo/press/2020/06/11/07.html</span>
<span class="n">population_data</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">14_002_973</span><span class="p">,</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="s2">&quot;Tokyo&quot;</span><span class="p">)</span>
<span class="n">population_after</span> <span class="o">=</span> <span class="n">population_data</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="s2">&quot;Tokyo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; After: </span><span class="si">{</span><span class="n">population_after</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Before: 13942856
 After: 14002973
</pre></div></div>
</div>
</div>
<div class="section" id="Visualize-population">
<h3>Visualize population<a class="headerlink" href="#Visualize-population" title="Permalink to this headline">¶</a></h3>
<p>We can visualize population values with <code class="docutils literal notranslate"><span class="pre">.map()</span></code> method. When country is None, global map will be shown. Arguments are the same as <code class="docutils literal notranslate"><span class="pre">JHUData.map()</span></code>, but variable name cannot be specified.</p>
<p>Country level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_71_0.png" src="_images/usage_dataset_71_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Country</th>
      <th>Date</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>91060</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021-04-07</td>
      <td>14439018</td>
    </tr>
    <tr>
      <th>91061</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021-04-08</td>
      <td>14439018</td>
    </tr>
    <tr>
      <th>91062</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021-04-09</td>
      <td>14439018</td>
    </tr>
    <tr>
      <th>91063</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021-04-10</td>
      <td>14439018</td>
    </tr>
    <tr>
      <th>91064</th>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021-04-11</td>
      <td>14439018</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Province level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_75_0.png" src="_images/usage_dataset_75_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">population_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Country</th>
      <th>Province</th>
      <th>Date</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21756</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>Kagawa</td>
      <td>2021-04-07</td>
      <td>956069</td>
    </tr>
    <tr>
      <th>21757</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>Kagawa</td>
      <td>2021-04-08</td>
      <td>956069</td>
    </tr>
    <tr>
      <th>21758</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>Kagawa</td>
      <td>2021-04-09</td>
      <td>956069</td>
    </tr>
    <tr>
      <th>21759</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>Kagawa</td>
      <td>2021-04-10</td>
      <td>956069</td>
    </tr>
    <tr>
      <th>21760</th>
      <td>JPN</td>
      <td>Japan</td>
      <td>Kagawa</td>
      <td>2021-04-11</td>
      <td>956069</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="OxCGRT-indicators">
<h2>OxCGRT indicators<a class="headerlink" href="#OxCGRT-indicators" title="Permalink to this headline">¶</a></h2>
<p>Government responses are tracked with <a class="reference external" href="https://github.com/OxCGRT/covid-policy-tracker">Oxford Covid-19 Government Response Tracker (OxCGRT)</a>. Because government responses and activities of persons change the parameter values of SIR-derived models, this dataset is significant when we try to forcast the number of cases. <code class="docutils literal notranslate"><span class="pre">OxCGRTData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.oxcgrt()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">oxcgrt_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">oxcgrt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">oxcgrt_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.oxcgrt.OxCGRTData
</pre></div></div>
</div>
<p>Because records will be retrieved via “COVID-19 Data Hub” as well as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>, data description and raw data is the same.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Description</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oxcgrt_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
<span class="c1"># Raw</span>
<span class="c1"># oxcgrt_data.raw.tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(Secondary source) Guidotti, E., Ardia, D., (2020), &#34;COVID-19 Data Hub&#34;, Journal of Open Source Software 5(51):2376, doi: 10.21105/joss.02376.
</pre></div></div>
</div>
<p>The cleaned dataset is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">oxcgrt_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>ISO3</th>
      <th>School_closing</th>
      <th>Workplace_closing</th>
      <th>Cancel_events</th>
      <th>Gatherings_restrictions</th>
      <th>Transport_closing</th>
      <th>Stay_home_restrictions</th>
      <th>Internal_movement_restrictions</th>
      <th>International_movement_restrictions</th>
      <th>Information_campaigns</th>
      <th>Testing_policy</th>
      <th>Contact_tracing</th>
      <th>Stringency_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>482315</th>
      <td>2021-04-07</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482316</th>
      <td>2021-04-08</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482317</th>
      <td>2021-04-09</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482318</th>
      <td>2021-04-10</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482319</th>
      <td>2021-04-11</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="id1">
<h3>Subset for area<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">PopulationData.subset()</span></code> creates a subset for a specific area. We can select only country name. Note that province level data is not registered in <code class="docutils literal notranslate"><span class="pre">OxCGRTData</span></code>.</p>
<div class="line-block">
<div class="line">Subset for a country:</div>
<div class="line">We can use both of country names and ISO3 codes.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">oxcgrt_data</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="c1"># Or, with ISO3 code</span>
<span class="c1"># oxcgrt_data.subset(&quot;JPN&quot;).tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>School_closing</th>
      <th>Workplace_closing</th>
      <th>Cancel_events</th>
      <th>Gatherings_restrictions</th>
      <th>Transport_closing</th>
      <th>Stay_home_restrictions</th>
      <th>Internal_movement_restrictions</th>
      <th>International_movement_restrictions</th>
      <th>Information_campaigns</th>
      <th>Testing_policy</th>
      <th>Contact_tracing</th>
      <th>Stringency_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>462</th>
      <td>2021-04-07</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>42.59</td>
    </tr>
    <tr>
      <th>463</th>
      <td>2021-04-08</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>42.59</td>
    </tr>
    <tr>
      <th>464</th>
      <td>2021-04-09</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>45.37</td>
    </tr>
    <tr>
      <th>465</th>
      <td>2021-04-10</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>45.37</td>
    </tr>
    <tr>
      <th>466</th>
      <td>2021-04-11</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>45.37</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Visualize-indicator-values">
<h3>Visualize indicator values<a class="headerlink" href="#Visualize-indicator-values" title="Permalink to this headline">¶</a></h3>
<p>We can visualize indicator values with <code class="docutils literal notranslate"><span class="pre">.map()</span></code> method. Arguments are the same as <code class="docutils literal notranslate"><span class="pre">JHUData.map()</span></code>, but country name cannot be specified.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">oxcgrt_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Stringency_index&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_89_0.png" src="_images/usage_dataset_89_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">oxcgrt_data</span><span class="o">.</span><span class="n">layer</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>ISO3</th>
      <th>School_closing</th>
      <th>Workplace_closing</th>
      <th>Cancel_events</th>
      <th>Gatherings_restrictions</th>
      <th>Transport_closing</th>
      <th>Stay_home_restrictions</th>
      <th>Internal_movement_restrictions</th>
      <th>International_movement_restrictions</th>
      <th>Information_campaigns</th>
      <th>Testing_policy</th>
      <th>Contact_tracing</th>
      <th>Stringency_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>482315</th>
      <td>2021-04-07</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482316</th>
      <td>2021-04-08</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482317</th>
      <td>2021-04-09</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482318</th>
      <td>2021-04-10</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
    <tr>
      <th>482319</th>
      <td>2021-04-11</td>
      <td>Greenland</td>
      <td>GRL</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>61.11</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="The-number-of-tests">
<h2>The number of tests<a class="headerlink" href="#The-number-of-tests" title="Permalink to this headline">¶</a></h2>
<p>The number of tests is also key information to understand the situation. <code class="docutils literal notranslate"><span class="pre">PCRData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.pcr()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">pcr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">pcr_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.pcr_data.PCRData
</pre></div></div>
</div>
<p>Because records will be retrieved via “COVID-19 Data Hub” as well as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>, data description and raw data is the same.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Description</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pcr_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
<span class="c1"># Raw</span>
<span class="c1"># pcr_data.raw.tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(Secondary source) Guidotti, E., Ardia, D., (2020), &#34;COVID-19 Data Hub&#34;, Journal of Open Source Software 5(51):2376, doi: 10.21105/joss.02376.
Hasell, J., Mathieu, E., Beltekian, D. et al. A cross-country database of COVID-19 testing. Sci Data 7, 345 (2020). https://doi.org/10.1038/s41597-020-00688-8
Lisphilar (2020), COVID-19 dataset in Japan, GitHub repository, https://github.com/lisphilar/covid19-sir/data/japan
</pre></div></div>
</div>
<p>The cleaned dataset is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Tests</th>
      <th>Confirmed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19091</th>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>-</td>
      <td>10130624</td>
      <td>487545</td>
    </tr>
    <tr>
      <th>19092</th>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>-</td>
      <td>10185014</td>
      <td>489576</td>
    </tr>
    <tr>
      <th>19093</th>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>-</td>
      <td>10244852</td>
      <td>492875</td>
    </tr>
    <tr>
      <th>19094</th>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>-</td>
      <td>10317762</td>
      <td>496206</td>
    </tr>
    <tr>
      <th>19095</th>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>-</td>
      <td>10387132</td>
      <td>499793</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="id2">
<h3>Subset for area<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">PCRData.subset()</span></code> creates a subset for a specific area. We can select country name and province name.</p>
<div class="line-block">
<div class="line">Subset for a country:</div>
<div class="line">We can use both of country names and ISO3 codes.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="c1"># Or, with ISO3 code</span>
<span class="c1"># pcr_data.subset(&quot;JPN&quot;).tail()</span>
<span class="c1"># Note: from version 2.17.0-alpha (next stable 2.18.0), &quot;Tests_diff&quot; is included</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Tests</th>
      <th>Tests_diff</th>
      <th>Confirmed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>425</th>
      <td>2021-04-06</td>
      <td>10130624</td>
      <td>62578</td>
      <td>487545</td>
    </tr>
    <tr>
      <th>426</th>
      <td>2021-04-07</td>
      <td>10185014</td>
      <td>54390</td>
      <td>489576</td>
    </tr>
    <tr>
      <th>427</th>
      <td>2021-04-08</td>
      <td>10244852</td>
      <td>59838</td>
      <td>492875</td>
    </tr>
    <tr>
      <th>428</th>
      <td>2021-04-09</td>
      <td>10317762</td>
      <td>72910</td>
      <td>496206</td>
    </tr>
    <tr>
      <th>429</th>
      <td>2021-04-10</td>
      <td>10387132</td>
      <td>69370</td>
      <td>499793</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Positive-rate">
<h3>Positive rate<a class="headerlink" href="#Positive-rate" title="Permalink to this headline">¶</a></h3>
<p>Under the assumption that all tests were PCR test, we can calculate the positive rate of PCR tests as “the number of confirmed cases per the number of tests” with <code class="docutils literal notranslate"><span class="pre">PCRData.positive_rate()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">positive_rate</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_103_0.png" src="_images/usage_dataset_103_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Tests</th>
      <th>Confirmed</th>
      <th>Tests_diff</th>
      <th>Confirmed_diff</th>
      <th>Test_positive_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>424</th>
      <td>JPN</td>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>-</td>
      <td>10130624</td>
      <td>487545</td>
      <td>52641.857143</td>
      <td>2481.428571</td>
      <td>4.713794</td>
    </tr>
    <tr>
      <th>425</th>
      <td>JPN</td>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>-</td>
      <td>10185014</td>
      <td>489576</td>
      <td>54312.714286</td>
      <td>2494.857143</td>
      <td>4.593505</td>
    </tr>
    <tr>
      <th>426</th>
      <td>JPN</td>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>-</td>
      <td>10244852</td>
      <td>492875</td>
      <td>52991.285714</td>
      <td>2586.000000</td>
      <td>4.880048</td>
    </tr>
    <tr>
      <th>427</th>
      <td>JPN</td>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>-</td>
      <td>10317762</td>
      <td>496206</td>
      <td>53732.000000</td>
      <td>2678.285714</td>
      <td>4.984526</td>
    </tr>
    <tr>
      <th>428</th>
      <td>JPN</td>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>-</td>
      <td>10387132</td>
      <td>499793</td>
      <td>54589.285714</td>
      <td>2804.000000</td>
      <td>5.136539</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Visualize-the-number-of-tests">
<h3>Visualize the number of tests<a class="headerlink" href="#Visualize-the-number-of-tests" title="Permalink to this headline">¶</a></h3>
<p>We can visualize the number of tests with <code class="docutils literal notranslate"><span class="pre">.map()</span></code> method. When country is None, global map will be shown. Arguments are the same as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>, but variable name cannot be specified.</p>
<p>Country level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_106_0.png" src="_images/usage_dataset_106_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Country</th>
      <th>Tests</th>
      <th>Confirmed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>92424</th>
      <td>JPN</td>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>10130624</td>
      <td>487545</td>
    </tr>
    <tr>
      <th>92425</th>
      <td>JPN</td>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>10185014</td>
      <td>489576</td>
    </tr>
    <tr>
      <th>92426</th>
      <td>JPN</td>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>10244852</td>
      <td>492875</td>
    </tr>
    <tr>
      <th>92427</th>
      <td>JPN</td>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>10317762</td>
      <td>496206</td>
    </tr>
    <tr>
      <th>92428</th>
      <td>JPN</td>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>10387132</td>
      <td>499793</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Province level data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_110_0.png" src="_images/usage_dataset_110_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pcr_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Tests</th>
      <th>Confirmed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18661</th>
      <td>JPN</td>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>599714</td>
      <td>2460</td>
    </tr>
    <tr>
      <th>18662</th>
      <td>JPN</td>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>601085</td>
      <td>2468</td>
    </tr>
    <tr>
      <th>18663</th>
      <td>JPN</td>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>602499</td>
      <td>2475</td>
    </tr>
    <tr>
      <th>18664</th>
      <td>JPN</td>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>604450</td>
      <td>2478</td>
    </tr>
    <tr>
      <th>18665</th>
      <td>JPN</td>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>606211</td>
      <td>2488</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="Vaccinations">
<h2>Vaccinations<a class="headerlink" href="#Vaccinations" title="Permalink to this headline">¶</a></h2>
<p>Vaccinations is a key factor to end the outbreak as soon as possible. <code class="docutils literal notranslate"><span class="pre">VaccineData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.vaccine()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">vaccine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieving COVID-19 vaccination dataset from https://github.com/owid/covid-19-data/
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">vaccine_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.vaccine_data.VaccineData
</pre></div></div>
</div>
<p>Description is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hasell, J., Mathieu, E., Beltekian, D. et al. A cross-country database of COVID-19 testing. Sci Data 7, 345 (2020). https://doi.org/10.1038/s41597-020-00688-8
</pre></div></div>
</div>
<p>Raw data is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>ISO3</th>
      <th>Date</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
      <th>Product</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11577</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2021-04-03</td>
      <td>132915</td>
      <td>111588</td>
      <td>21327</td>
      <td>Sinopharm/Beijing</td>
    </tr>
    <tr>
      <th>11578</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2021-04-04</td>
      <td>138900</td>
      <td>117297</td>
      <td>21603</td>
      <td>Sinopharm/Beijing</td>
    </tr>
    <tr>
      <th>11579</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2021-04-05</td>
      <td>145510</td>
      <td>123454</td>
      <td>22056</td>
      <td>Sinopharm/Beijing</td>
    </tr>
    <tr>
      <th>11580</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2021-04-06</td>
      <td>162633</td>
      <td>139133</td>
      <td>23500</td>
      <td>Sinopharm/Beijing</td>
    </tr>
    <tr>
      <th>11581</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2021-04-07</td>
      <td>179417</td>
      <td>153238</td>
      <td>26179</td>
      <td>Sinopharm/Beijing</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The next is the cleaned dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>ISO3</th>
      <th>Product</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11577</th>
      <td>2021-04-03</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>132915</td>
      <td>111588</td>
      <td>21327</td>
    </tr>
    <tr>
      <th>11578</th>
      <td>2021-04-04</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>138900</td>
      <td>117297</td>
      <td>21603</td>
    </tr>
    <tr>
      <th>11579</th>
      <td>2021-04-05</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>145510</td>
      <td>123454</td>
      <td>22056</td>
    </tr>
    <tr>
      <th>11580</th>
      <td>2021-04-06</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>162633</td>
      <td>139133</td>
      <td>23500</td>
    </tr>
    <tr>
      <th>11581</th>
      <td>2021-04-07</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>179417</td>
      <td>153238</td>
      <td>26179</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="Note-for-variables">
<h3>Note for variables<a class="headerlink" href="#Note-for-variables" title="Permalink to this headline">¶</a></h3>
<p>Definition of variables are as follows.</p>
<ul class="simple">
<li><p>Vaccinations: cumulative number of vaccinations</p></li>
<li><p>Vaccinated_once: cumulative number of people who received at least one vaccine dose</p></li>
<li><p>Vaccinated_full: cumulative number of people who received all doses prescrived by the protocol</p></li>
</ul>
<p>Registered countries can be checked with <code class="docutils literal notranslate"><span class="pre">VaccineData.countries()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pprint</span><span class="p">(</span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">countries</span><span class="p">(),</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Afghanistan&#39;, &#39;Africa&#39;, &#39;Albania&#39;, &#39;Algeria&#39;, &#39;Andorra&#39;, &#39;Angola&#39;, &#39;Anguilla&#39;,
 &#39;Antigua and Barbuda&#39;, &#39;Argentina&#39;, &#39;Armenia&#39;, &#39;Asia&#39;, &#39;Australia&#39;, &#39;Austria&#39;,
 &#39;Azerbaijan&#39;, &#39;Bahamas&#39;, &#39;Bahrain&#39;, &#39;Bangladesh&#39;, &#39;Barbados&#39;, &#39;Belarus&#39;,
 &#39;Belgium&#39;, &#39;Belize&#39;, &#39;Bermuda&#39;, &#39;Bhutan&#39;, &#39;Bolivia&#39;, &#39;Botswana&#39;, &#39;Brazil&#39;,
 &#39;Brunei&#39;, &#39;Bulgaria&#39;, &#39;Cambodia&#39;, &#39;Canada&#39;, &#39;Cape Verde&#39;, &#39;Cayman Islands&#39;,
 &#39;Chile&#39;, &#39;China&#39;, &#39;Colombia&#39;, &#39;Costa Rica&#39;, &#34;Cote d&#39;Ivoire&#34;, &#39;Croatia&#39;,
 &#39;Cyprus&#39;, &#39;Czechia&#39;, &#39;Denmark&#39;, &#39;Dominica&#39;, &#39;Dominican Republic&#39;, &#39;Ecuador&#39;,
 &#39;Egypt&#39;, &#39;El Salvador&#39;, &#39;England&#39;, &#39;Equatorial Guinea&#39;, &#39;Estonia&#39;, &#39;Eswatini&#39;,
 &#39;Europe&#39;, &#39;European Union&#39;, &#39;Faeroe Islands&#39;, &#39;Falkland Islands&#39;, &#39;Finland&#39;,
 &#39;France&#39;, &#39;Gabon&#39;, &#39;Gambia&#39;, &#39;Georgia&#39;, &#39;Germany&#39;, &#39;Ghana&#39;, &#39;Gibraltar&#39;,
 &#39;Greece&#39;, &#39;Greenland&#39;, &#39;Grenada&#39;, &#39;Guatemala&#39;, &#39;Guernsey&#39;, &#39;Guinea&#39;, &#39;Guyana&#39;,
 &#39;Honduras&#39;, &#39;Hong Kong&#39;, &#39;Hungary&#39;, &#39;Iceland&#39;, &#39;India&#39;, &#39;Indonesia&#39;, &#39;Iran&#39;,
 &#39;Iraq&#39;, &#39;Ireland&#39;, &#39;Isle of Man&#39;, &#39;Israel&#39;, &#39;Italy&#39;, &#39;Jamaica&#39;, &#39;Japan&#39;,
 &#39;Jersey&#39;, &#39;Jordan&#39;, &#39;Kazakhstan&#39;, &#39;Kenya&#39;, &#39;Kosovo&#39;, &#39;Kuwait&#39;, &#39;Kyrgyzstan&#39;,
 &#39;Laos&#39;, &#39;Latvia&#39;, &#39;Lebanon&#39;, &#39;Liechtenstein&#39;, &#39;Lithuania&#39;, &#39;Luxembourg&#39;,
 &#39;Macao&#39;, &#39;Malawi&#39;, &#39;Malaysia&#39;, &#39;Maldives&#39;, &#39;Mali&#39;, &#39;Malta&#39;, &#39;Mauritania&#39;,
 &#39;Mauritius&#39;, &#39;Mexico&#39;, &#39;Moldova&#39;, &#39;Monaco&#39;, &#39;Mongolia&#39;, &#39;Montenegro&#39;,
 &#39;Montserrat&#39;, &#39;Morocco&#39;, &#39;Mozambique&#39;, &#39;Myanmar&#39;, &#39;Namibia&#39;, &#39;Nepal&#39;,
 &#39;Netherlands&#39;, &#39;New Zealand&#39;, &#39;Nigeria&#39;, &#39;North America&#39;, &#39;North Macedonia&#39;,
 &#39;Northern Cyprus&#39;, &#39;Northern Ireland&#39;, &#39;Norway&#39;, &#39;Oceania&#39;, &#39;Oman&#39;, &#39;Pakistan&#39;,
 &#39;Palestine&#39;, &#39;Panama&#39;, &#39;Papua New Guinea&#39;, &#39;Paraguay&#39;, &#39;Peru&#39;, &#39;Philippines&#39;,
 &#39;Poland&#39;, &#39;Portugal&#39;, &#39;Qatar&#39;, &#39;Romania&#39;, &#39;Russia&#39;, &#39;Rwanda&#39;, &#39;Saint Helena&#39;,
 &#39;Saint Kitts and Nevis&#39;, &#39;Saint Lucia&#39;, &#39;Saint Vincent and the Grenadines&#39;,
 &#39;San Marino&#39;, &#39;Sao Tome and Principe&#39;, &#39;Saudi Arabia&#39;, &#39;Scotland&#39;, &#39;Senegal&#39;,
 &#39;Serbia&#39;, &#39;Seychelles&#39;, &#39;Sierra Leone&#39;, &#39;Singapore&#39;, &#39;Slovakia&#39;, &#39;Slovenia&#39;,
 &#39;Solomon Islands&#39;, &#39;South Africa&#39;, &#39;South America&#39;, &#39;South Korea&#39;, &#39;Spain&#39;,
 &#39;Sri Lanka&#39;, &#39;Sudan&#39;, &#39;Suriname&#39;, &#39;Sweden&#39;, &#39;Switzerland&#39;, &#39;Syria&#39;, &#39;Taiwan&#39;,
 &#39;Thailand&#39;, &#39;Togo&#39;, &#39;Trinidad and Tobago&#39;, &#39;Tunisia&#39;, &#39;Turkey&#39;,
 &#39;Turks and Caicos Islands&#39;, &#39;Uganda&#39;, &#39;Ukraine&#39;, &#39;United Arab Emirates&#39;,
 &#39;United Kingdom&#39;, &#39;United States&#39;, &#39;Uruguay&#39;, &#39;Uzbekistan&#39;, &#39;Venezuela&#39;,
 &#39;Vietnam&#39;, &#39;Wales&#39;, &#39;World&#39;, &#39;Zimbabwe&#39;]
</pre></div></div>
</div>
</div>
<div class="section" id="id3">
<h3>Subset for area<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">VaccineData.subset()</span></code> creates a subset for a specific area. We can select only country name. Note that province level data is not registered.</p>
<div class="line-block">
<div class="line">Subset for a country:</div>
<div class="line">We can use both of country names and ISO3 codes.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="c1"># Or, with ISO3 code</span>
<span class="c1"># vaccine_data.subset(&quot;JPN&quot;).tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>47</th>
      <td>2021-04-05</td>
      <td>1196884</td>
      <td>956638</td>
      <td>240246</td>
    </tr>
    <tr>
      <th>48</th>
      <td>2021-04-06</td>
      <td>1288566</td>
      <td>996058</td>
      <td>292508</td>
    </tr>
    <tr>
      <th>49</th>
      <td>2021-04-07</td>
      <td>1393108</td>
      <td>1036429</td>
      <td>356679</td>
    </tr>
    <tr>
      <th>50</th>
      <td>2021-04-08</td>
      <td>1487606</td>
      <td>1066385</td>
      <td>421221</td>
    </tr>
    <tr>
      <th>51</th>
      <td>2021-04-09</td>
      <td>1592517</td>
      <td>1101698</td>
      <td>490819</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Visualize-the-number-of-vaccinations">
<h3>Visualize the number of vaccinations<a class="headerlink" href="#Visualize-the-number-of-vaccinations" title="Permalink to this headline">¶</a></h3>
<p>We can visualize the number of vaccinations and the other variables with <code class="docutils literal notranslate"><span class="pre">.map()</span></code> method. Arguments are the same as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>, but country name cannot be specified.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">map</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_129_0.png" src="_images/usage_dataset_129_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vaccine_data</span><span class="o">.</span><span class="n">layer</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>ISO3</th>
      <th>Product</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11577</th>
      <td>2021-04-03</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>132915</td>
      <td>111588</td>
      <td>21327</td>
    </tr>
    <tr>
      <th>11578</th>
      <td>2021-04-04</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>138900</td>
      <td>117297</td>
      <td>21603</td>
    </tr>
    <tr>
      <th>11579</th>
      <td>2021-04-05</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>145510</td>
      <td>123454</td>
      <td>22056</td>
    </tr>
    <tr>
      <th>11580</th>
      <td>2021-04-06</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>162633</td>
      <td>139133</td>
      <td>23500</td>
    </tr>
    <tr>
      <th>11581</th>
      <td>2021-04-07</td>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>Sinopharm/Beijing</td>
      <td>179417</td>
      <td>153238</td>
      <td>26179</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="Linelist-of-case-reports">
<h2>Linelist of case reports<a class="headerlink" href="#Linelist-of-case-reports" title="Permalink to this headline">¶</a></h2>
<p>The number of cases is important, but linelist of case reports will helpful to understand the situation deeply. <code class="docutils literal notranslate"><span class="pre">LinelistData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.linelist()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">linelist</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">linelist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieving linelist from Open COVID-19 Data Working Group repository: https://github.com/beoutbreakprepared/nCoV2019
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">linelist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.linelist.LinelistData
</pre></div></div>
</div>
<p>Description is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">linelist</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Xu, B., Gutierrez, B., Mekaru, S. et al. Epidemiological data from the COVID-19 outbreak, real-time case information. Sci Data 7, 106 (2020). https://doi.org/10.1038/s41597-020-0448-0
</pre></div></div>
</div>
<p>Raw data is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">linelist</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>sex</th>
      <th>province</th>
      <th>country</th>
      <th>date_admission_hospital</th>
      <th>date_confirmation</th>
      <th>symptoms</th>
      <th>chronic_disease</th>
      <th>outcome</th>
      <th>date_death_or_discharge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2676307</th>
      <td>52</td>
      <td>female</td>
      <td>Lima</td>
      <td>Peru</td>
      <td>NaN</td>
      <td>17.05.2020</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2676308</th>
      <td>52</td>
      <td>female</td>
      <td>Lima</td>
      <td>Peru</td>
      <td>NaN</td>
      <td>17.05.2020</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2676309</th>
      <td>52</td>
      <td>male</td>
      <td>Callao</td>
      <td>Peru</td>
      <td>NaN</td>
      <td>17.05.2020</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2676310</th>
      <td>52</td>
      <td>male</td>
      <td>Lima</td>
      <td>Peru</td>
      <td>NaN</td>
      <td>17.05.2020</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2676311</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The next is the cleaned dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">linelist</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Province</th>
      <th>Hospitalized_date</th>
      <th>Confirmation_date</th>
      <th>Outcome_date</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Recovered</th>
      <th>Fatal</th>
      <th>Symptoms</th>
      <th>Chronic_disease</th>
      <th>Age</th>
      <th>Sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2676306</th>
      <td>Peru</td>
      <td>Coronel Portillo</td>
      <td>NaT</td>
      <td>2020-05-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.0</td>
      <td>female</td>
    </tr>
    <tr>
      <th>2676307</th>
      <td>Peru</td>
      <td>Lima</td>
      <td>NaT</td>
      <td>2020-05-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.0</td>
      <td>female</td>
    </tr>
    <tr>
      <th>2676308</th>
      <td>Peru</td>
      <td>Lima</td>
      <td>NaT</td>
      <td>2020-05-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.0</td>
      <td>female</td>
    </tr>
    <tr>
      <th>2676309</th>
      <td>Peru</td>
      <td>Callao</td>
      <td>NaT</td>
      <td>2020-05-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.0</td>
      <td>male</td>
    </tr>
    <tr>
      <th>2676310</th>
      <td>Peru</td>
      <td>Lima</td>
      <td>NaT</td>
      <td>2020-05-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.0</td>
      <td>male</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="id4">
<h3>Subset for area<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">LinelistData.subset()</span></code> creates a subset for a specific area. We can select country name and province name.</p>
<div class="line-block">
<div class="line">Subset for a country:</div>
<div class="line">We can use both of country names and ISO3 codes.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">linelist</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="c1"># Or, with ISO3 code</span>
<span class="c1"># linelist.subset(&quot;JPN&quot;).tail()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Hospitalized_date</th>
      <th>Confirmation_date</th>
      <th>Outcome_date</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Recovered</th>
      <th>Fatal</th>
      <th>Symptoms</th>
      <th>Chronic_disease</th>
      <th>Age</th>
      <th>Sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1809</th>
      <td>NaT</td>
      <td>2020-02-15</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>fever:headache</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>female</td>
    </tr>
    <tr>
      <th>1810</th>
      <td>NaT</td>
      <td>2020-02-16</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>fever</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>male</td>
    </tr>
    <tr>
      <th>1811</th>
      <td>NaT</td>
      <td>2020-02-17</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>fever:full body slump</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>male</td>
    </tr>
    <tr>
      <th>1812</th>
      <td>NaT</td>
      <td>2020-02-18</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>cough:fever</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>male</td>
    </tr>
    <tr>
      <th>1813</th>
      <td>2020-08-02</td>
      <td>2020-02-10</td>
      <td>NaT</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>cough:fever</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>male</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Subset-of-outcome">
<h3>Subset of outcome<a class="headerlink" href="#Subset-of-outcome" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">LinelistData.closed()</span></code> returns a subset for specified outcome. We can select “Recovered” and “Fatal”.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">linelist</span><span class="o">.</span><span class="n">closed</span><span class="p">(</span><span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;Recovered&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Province</th>
      <th>Hospitalized_date</th>
      <th>Confirmation_date</th>
      <th>Recovered_date</th>
      <th>Symptoms</th>
      <th>Chronic_disease</th>
      <th>Age</th>
      <th>Sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>272</th>
      <td>Singapore</td>
      <td>-</td>
      <td>2020-02-02</td>
      <td>2020-02-06</td>
      <td>2020-02-17</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>39.0</td>
      <td>female</td>
    </tr>
    <tr>
      <th>273</th>
      <td>Malaysia</td>
      <td>Johor</td>
      <td>NaT</td>
      <td>2020-01-25</td>
      <td>2020-02-08</td>
      <td>cough:fever</td>
      <td>NaN</td>
      <td>40.0</td>
      <td>male</td>
    </tr>
    <tr>
      <th>274</th>
      <td>China</td>
      <td>Gansu</td>
      <td>2020-07-02</td>
      <td>2020-02-08</td>
      <td>2020-02-17</td>
      <td>diarrhea</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>female</td>
    </tr>
    <tr>
      <th>275</th>
      <td>Canada</td>
      <td>Ontario</td>
      <td>NaT</td>
      <td>2020-01-25</td>
      <td>2020-01-31</td>
      <td>NaN</td>
      <td>hypertension</td>
      <td>NaN</td>
      <td>male</td>
    </tr>
    <tr>
      <th>276</th>
      <td>Canada</td>
      <td>Ontario</td>
      <td>NaT</td>
      <td>2020-01-31</td>
      <td>2020-02-19</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>female</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>As the median value of the period from confirmation to recovery, we can calculate recovery period.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recovery period calculated with linelist: </span><span class="si">{</span><span class="n">linelist</span><span class="o">.</span><span class="n">recovery_period</span><span class="p">()</span><span class="si">}</span><span class="s2"> [days]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovery period calculated with linelist: 12 [days]
</pre></div></div>
</div>
<p>Note that we small number of records to calculate recovery period. The number of records is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">len</span><span class="p">(</span><span class="n">linelist</span><span class="o">.</span><span class="n">closed</span><span class="p">(</span><span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;Recovered&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
277
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Population-pyramid">
<h2>Population pyramid<a class="headerlink" href="#Population-pyramid" title="Permalink to this headline">¶</a></h2>
<p>With population pyramid, we can divide the population to sub-groups. This will be useful when we analyse the meaning of parameters. For example, how many days go out is different between the sub-groups. <code class="docutils literal notranslate"><span class="pre">PyramidData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.pyramid()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pyramid_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">pyramid</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">pyramid_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.pyramid.PopulationPyramidData
</pre></div></div>
</div>
<p>Description is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">pyramid_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
World Bank Group (2020), World Bank Open Data, https://data.worldbank.org/
</pre></div></div>
</div>
<p>Raw dataset is not registered. Subset will be retrieved when <code class="docutils literal notranslate"><span class="pre">PyramidData.subset()</span></code> was called.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pyramid_data</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieving population pyramid dataset (Japan) from https://data.worldbank.org/
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Population</th>
      <th>Per_total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>113</th>
      <td>118</td>
      <td>255035</td>
      <td>0.002174</td>
    </tr>
    <tr>
      <th>114</th>
      <td>119</td>
      <td>255035</td>
      <td>0.002174</td>
    </tr>
    <tr>
      <th>115</th>
      <td>120</td>
      <td>255035</td>
      <td>0.002174</td>
    </tr>
    <tr>
      <th>116</th>
      <td>121</td>
      <td>255035</td>
      <td>0.002174</td>
    </tr>
    <tr>
      <th>117</th>
      <td>122</td>
      <td>255035</td>
      <td>0.002174</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>“Per_total” is the proportion of the age group in the total population.</p>
</div>
<div class="section" id="Japan-specific-dataset">
<h2>Japan-specific dataset<a class="headerlink" href="#Japan-specific-dataset" title="Permalink to this headline">¶</a></h2>
<p>This includes the number of confirmed/infected/fatal/recovered/tests/moderate/severe cases at country/prefecture level and metadata of each prefecture (province). <code class="docutils literal notranslate"><span class="pre">JapanData</span></code> class will be created with <code class="docutils literal notranslate"><span class="pre">DataLoader.japan()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">japan</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">japan_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
covsirphy.cleaning.japan_data.JapanData
</pre></div></div>
</div>
<p>Description is here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">japan_data</span><span class="o">.</span><span class="n">citation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Lisphilar (2020), COVID-19 dataset in Japan, GitHub repository, https://github.com/lisphilar/covid19-sir/data/japan
</pre></div></div>
</div>
<p>The next is the cleaned dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
      <th>Tests</th>
      <th>Moderate</th>
      <th>Severe</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19091</th>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>-</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
      <td>10130624</td>
      <td>23381</td>
      <td>451</td>
      <td>1288566</td>
      <td>996058</td>
      <td>292508</td>
    </tr>
    <tr>
      <th>19092</th>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>-</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
      <td>10185014</td>
      <td>24040</td>
      <td>456</td>
      <td>1393108</td>
      <td>1036429</td>
      <td>356679</td>
    </tr>
    <tr>
      <th>19093</th>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>-</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
      <td>10244852</td>
      <td>25512</td>
      <td>464</td>
      <td>1487606</td>
      <td>1066385</td>
      <td>421221</td>
    </tr>
    <tr>
      <th>19094</th>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>-</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
      <td>10317762</td>
      <td>27006</td>
      <td>483</td>
      <td>1592517</td>
      <td>1101698</td>
      <td>490819</td>
    </tr>
    <tr>
      <th>19095</th>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>-</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
      <td>10387132</td>
      <td>28370</td>
      <td>511</td>
      <td>1592517</td>
      <td>1101698</td>
      <td>490819</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="Visualize-values">
<h3>Visualize values<a class="headerlink" href="#Visualize-values" title="Permalink to this headline">¶</a></h3>
<p>We can visualize the values with <code class="docutils literal notranslate"><span class="pre">.map()</span></code> method. Arguments are the same as <code class="docutils literal notranslate"><span class="pre">JHUData</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Severe&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/usage_dataset_166_0.png" src="_images/usage_dataset_166_0.png" />
</div>
</div>
<p>Values are here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>Province</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
      <th>Tests</th>
      <th>Moderate</th>
      <th>Severe</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18661</th>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2460</td>
      <td>129</td>
      <td>3</td>
      <td>2328</td>
      <td>599714</td>
      <td>129</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18662</th>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2468</td>
      <td>136</td>
      <td>3</td>
      <td>2329</td>
      <td>601085</td>
      <td>136</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18663</th>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2475</td>
      <td>132</td>
      <td>3</td>
      <td>2340</td>
      <td>602499</td>
      <td>132</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18664</th>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2478</td>
      <td>127</td>
      <td>3</td>
      <td>2348</td>
      <td>604450</td>
      <td>127</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18665</th>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>Entering</td>
      <td>2488</td>
      <td>137</td>
      <td>3</td>
      <td>2348</td>
      <td>606211</td>
      <td>137</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Map with country level data is not prepared, but country level data can be retrieved.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Country</th>
      <th>Confirmed</th>
      <th>Infected</th>
      <th>Fatal</th>
      <th>Recovered</th>
      <th>Tests</th>
      <th>Moderate</th>
      <th>Severe</th>
      <th>Vaccinations</th>
      <th>Vaccinated_once</th>
      <th>Vaccinated_full</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>425</th>
      <td>2021-04-06</td>
      <td>Japan</td>
      <td>487545</td>
      <td>24241</td>
      <td>9249</td>
      <td>454055</td>
      <td>10130624</td>
      <td>23381</td>
      <td>451</td>
      <td>1288566</td>
      <td>996058</td>
      <td>292508</td>
    </tr>
    <tr>
      <th>426</th>
      <td>2021-04-07</td>
      <td>Japan</td>
      <td>489576</td>
      <td>24915</td>
      <td>9279</td>
      <td>455382</td>
      <td>10185014</td>
      <td>24040</td>
      <td>456</td>
      <td>1393108</td>
      <td>1036429</td>
      <td>356679</td>
    </tr>
    <tr>
      <th>427</th>
      <td>2021-04-08</td>
      <td>Japan</td>
      <td>492875</td>
      <td>26524</td>
      <td>9301</td>
      <td>457050</td>
      <td>10244852</td>
      <td>25512</td>
      <td>464</td>
      <td>1487606</td>
      <td>1066385</td>
      <td>421221</td>
    </tr>
    <tr>
      <th>428</th>
      <td>2021-04-09</td>
      <td>Japan</td>
      <td>496206</td>
      <td>28032</td>
      <td>9334</td>
      <td>458840</td>
      <td>10317762</td>
      <td>27006</td>
      <td>483</td>
      <td>1592517</td>
      <td>1101698</td>
      <td>490819</td>
    </tr>
    <tr>
      <th>429</th>
      <td>2021-04-10</td>
      <td>Japan</td>
      <td>499793</td>
      <td>29447</td>
      <td>9353</td>
      <td>460993</td>
      <td>10387132</td>
      <td>28370</td>
      <td>511</td>
      <td>1592517</td>
      <td>1101698</td>
      <td>490819</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Metadata">
<h3>Metadata<a class="headerlink" href="#Metadata" title="Permalink to this headline">¶</a></h3>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">JapanData.meta()</span></code> retrieves meta data for Japan prefectures.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">japan_data</span><span class="o">.</span><span class="n">meta</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieving Metadata of Japan dataset from https://github.com/lisphilar/covid19-sir/data/japan
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Prefecture</th>
      <th>Admin_Capital</th>
      <th>Admin_Region</th>
      <th>Admin_Num</th>
      <th>Area_Habitable</th>
      <th>Area_Total</th>
      <th>Clinic_bed_Care</th>
      <th>Clinic_bed_Total</th>
      <th>Hospital_bed_Care</th>
      <th>Hospital_bed_Specific</th>
      <th>Hospital_bed_Total</th>
      <th>Hospital_bed_Tuberculosis</th>
      <th>Hospital_bed_Type-I</th>
      <th>Hospital_bed_Type-II</th>
      <th>Population_Female</th>
      <th>Population_Male</th>
      <th>Population_Total</th>
      <th>Location_Latitude</th>
      <th>Location_Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>42</th>
      <td>Kumamoto</td>
      <td>Kumamoto</td>
      <td>Kyushu</td>
      <td>43</td>
      <td>2796</td>
      <td>7409</td>
      <td>497</td>
      <td>4628</td>
      <td>8340</td>
      <td>0</td>
      <td>33710</td>
      <td>95</td>
      <td>2</td>
      <td>46</td>
      <td>933</td>
      <td>833</td>
      <td>1765</td>
      <td>32.790513</td>
      <td>130.742388</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Oita</td>
      <td>Oita</td>
      <td>Kyushu</td>
      <td>44</td>
      <td>1799</td>
      <td>6341</td>
      <td>269</td>
      <td>3561</td>
      <td>2618</td>
      <td>0</td>
      <td>19834</td>
      <td>50</td>
      <td>2</td>
      <td>38</td>
      <td>607</td>
      <td>546</td>
      <td>1152</td>
      <td>33.238391</td>
      <td>131.612658</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Miyazaki</td>
      <td>Miyazaki</td>
      <td>Kyushu</td>
      <td>45</td>
      <td>1850</td>
      <td>7735</td>
      <td>206</td>
      <td>2357</td>
      <td>3682</td>
      <td>0</td>
      <td>18769</td>
      <td>33</td>
      <td>1</td>
      <td>30</td>
      <td>577</td>
      <td>512</td>
      <td>1089</td>
      <td>31.911188</td>
      <td>131.423873</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Kagoshima</td>
      <td>Kagoshima</td>
      <td>Kyushu</td>
      <td>46</td>
      <td>3313</td>
      <td>9187</td>
      <td>652</td>
      <td>4827</td>
      <td>7750</td>
      <td>0</td>
      <td>32651</td>
      <td>98</td>
      <td>1</td>
      <td>44</td>
      <td>863</td>
      <td>763</td>
      <td>1626</td>
      <td>31.560052</td>
      <td>130.557745</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Okinawa</td>
      <td>Naha</td>
      <td>Okinawa</td>
      <td>47</td>
      <td>1169</td>
      <td>2281</td>
      <td>83</td>
      <td>914</td>
      <td>3804</td>
      <td>0</td>
      <td>18710</td>
      <td>47</td>
      <td>4</td>
      <td>20</td>
      <td>734</td>
      <td>709</td>
      <td>1443</td>
      <td>26.211761</td>
      <td>127.681119</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="usage_phases.html" class="btn btn-neutral float-right" title="Usage: phases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="usage_quick.html" class="btn btn-neutral float-left" title="Usage: scenario analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, CovsirPhy Development Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>